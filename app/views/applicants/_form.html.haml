-#%form.register{:action => ""}
= form_for @applicant, html: { class: 'register' }, remote: true do |f|
  %h1 GBPC Career Application Form
  %fieldset.row1
    %legend
      Personal Particulars
    %p
      = f.label :firstname
      = f.text_field :firstname
    %p
      = f.label 'Middle Name'
      = f.text_field :middlename
    %p
      = f.label 'Last Name'
      = f.text_field :lastname
    %p
      = f.label :nickname
      = f.text_field :nickname
    %p
      = f.label 'Birth Date'
      = f.text_field :birthdate
      = f.label 'Birth Place'
      = f.text_field :birthplace
    %p
      = f.label :citizenship
      = f.select :citizenship, Applicant::CITIZENSHIP_LISTS

      = f.label :civil_status
      = f.select :citizenship, civil_statuses
    %p
      = f.label :gender
      = f.select :gender, genders

      = f.label :religion
      = f.text_field :religion
    %p
      = f.label :height
      = f.text_field :height

      = f.label 'Weight in kilograms'
      = f.text_field :weight
    %p
      = f.label :religion
      = f.text_field :religion

      = f.label 'TIN Number'
      = f.text_field :tin
    %p
      = f.label 'SSS Number'
      = f.text_field :sss_number

      = f.label 'Philhealth Number'
      = f.text_field :philhealth
  %fieldset.row1a
    %p
      %br/
      Select Profile Photo to upload:
      %br/
      %br/
    #upload
      #pic
        %div{:align => "right"}
          - if @applicant.avatar
            = image_tag @applicant.avatar.url, height: '150px', style: 'float: right; border: 1px solid green', width: '150px', id: 'photo'
          - else
            = image_tag 'upload.png', height: '150px', style: 'float: right; border: 1px solid green', width: '150px', id: 'photo'
          = f.file_field :avatar
          -#%input{:name => "picture", :onchange => "readURL(this);", :type => "file"}/
  = f.fields_for :address_info do |ai|
    %fieldset.row2
      %legend
        Address/Contacts
      %p
        = ai.label :street
        = ai.text_field :street
      %p
        = ai.label :village
        = ai.text_field :village
      %p
        = ai.label :city
        = ai.text_field :city
      %p
        = ai.label :country
        = ai.select :country, AddressInfo::COUNTRY_LISTS
      %p
        = ai.label :phone_home
        = ai.text_field :phone_home

        %label.optional
          Telephone no. (Office)
        = ai.text_field :phone_office
      %p
        = ai.label :mobile
        = ai.text_field :mobile

        = ai.label :fax
        = ai.text_field :fax
  %fieldset.row3
    %legend
      Educational Attainment
    %strong
      %br>/
      Level of Qualification
      %br/
      %br/
    %p
      %label
        Level
      %select
        %option
        %option{:value => "1"}
          United States
    %p
      %label
        Name of Institution
      %input{:maxlength => "10", :type => "text"}/
      %label.optional
        Location
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Field of Study
      %input{:maxlength => "10", :type => "text"}/
      %label.optional
        Major
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Grade
      %input{:maxlength => "10", :type => "text"}/
      %label.optional
        Graduation Year
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Honors/ Awards Received
      %input{:maxlength => "10", :type => "text"}/
    %p
      %button.edit.button Add
      %button.add.button Edit
      %button.delete.button Delete
  / 
  / 
  %fieldset.row7
    %legend
      Family Background
    %strong
      %br>/
      Level of Qualification
      %br/
      %br/
    %p
      %label
        FirstName
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        MiddleName
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        LastName
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Relationship
      %input{:maxlength => "10", :type => "text"}/
      %label.optional
        Date of Birth
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Address
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Employer/Company
      %input{:maxlength => "10", :type => "text"}/
      %label.optional
        Position
      %input{:maxlength => "10", :type => "text"}/
    %p
      %button.edit.button Add
      %button.add.button Edit
      %button.delete.button Delete
  / 
  / ccccccccccccccccccccccccccccccccccccccc
  %fieldset.row5
    %legend
      Languages
    Choose the language/s you are proficient in from the list and rate how proficient you are in both oral and written aspects
    %br>/
    (0-worst, 10 best)
    %br/
    %p
      %label Language
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label Spoken
      %input.short{:type => "text"}/
      %label Written
      %input.short{:type => "text"}/
    %p
      %button.edit.button Add
      %button.add.button Edit
      %button.delete.button Delete
  %fieldset.row5
    %legend
      Specialized Skills
    %p
      Enter skills relevant to the jobs you are looking  for - Skill nmae in text box,  number of years of experience, your proficiency
      %br>/
      and click [Add] to add to your skill list.
      %br/
    %p
      %label Skill (e.g., accounting, public speaking)
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label Years of Experience
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label Proficiency
      %input{:maxlength => "10", :type => "text"}/
      %br/
      = succeed "((1)" do
        %br/
      = succeed "the" do
        %br/
    %button.edit.button Add
    %button.add.button Edit
    %button.delete.button Delete
  %fieldset.row6
    %legend
      Certificates
    %strong Professional Certification
    %p
      e.g. CPA, CFA, CISA, CISCO, Chartered Secretary and Administrator, Microsoft Certified Professional, Sun CertifiedJava Programmer
    ertification Name
    %p
      %label Certification Name
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label Year Obtained
      %input.short{:type => "text"}/
      %label Grade
      %input.short{:type => "text"}/
    %p
      %button.edit.button Add
      %button.add.button Edit
      %button.delete.button Delete
  / 
  = f.fields_for :job_preference do |job|
    %fieldset.row7
      %legend
        Job Preferences
      %strong
        %br>/
        Prefered job vacancy :
      %p
        %label
          1st Preference
        = job.text_field :first_pref
      %p
        %label
          2nd Preference
        = job.text_field :second_pref
      %p
        %label.optional
          3rd Preference
        = job.text_field :third_pref
      %p
        %label#source_label
          Source of application
        = job.select :source, JobPreference::SOURCE_LISTS
      %p
        %label.optional
          Specify if others
        = check_box_tag :specify_other
        = job.text_field :source_sub, style: 'display: none'
      %p
        %label#job_pref_firstname{style: "display:none"}
          First Name
        = job.text_field :firstname, style: 'display: none'
        %label#job_pref_lastname{style: 'display:none'}
          Last Name
        = job.text_field :lastname, style: 'display: none'
  %fieldset.row3
    %legend
      Character Reference
    %p
      %label
        First Name
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Middle Name
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Last Name
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        No. of years acquainted
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Address
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Contact No.
      %input{:maxlength => "10", :type => "text"}/
    %p
      %label
        Company Name
      %input{:maxlength => "10", :type => "text"}/
      %label
        Position
      %input{:maxlength => "10", :type => "text"}/
    %p
      %button.edit.button Add
      %button.add.button Edit
      %button.delete.button Delete
  / 
  / 
  %fieldset.row10
    %legend
      Availability Status
    %p
      %input{:name => "availability", :type => "radio", :value => "status1"}>/
      Able to assume the position immediately
      %br/
      = succeed "Able" do
        %input{:name => "availability", :type => "radio", :value => "status2"}/
      %input{:maxlength => "30", :name => "lname", :size => "1", :type => "text"}/
      month(s)
      %br/
  / 
  / 
  %fieldset.row11
    %legend
      Work Experience
    %p
      %input{:name => "workexperience", :type => "radio", :value => "we1"}>/
      I am still pursuing my studies and seeking internship
      %br/
      = succeed "I" do
        %input{:name => "workexperience", :type => "radio", :value => "we2"}/
      %br/
      = succeed "Already" do
        %input{:name => "workexperience", :type => "radio", :value => "we3"}/
      %br/
  / 
  / 
  %br/
  / 
  %fieldset.row12
    %legend
      Availability Status
    Willing to travel?
    %span.red *
    = succeed "Yes" do
      %input{:name => "travel", :type => "radio", :value => "expectation1"}/
    = succeed "No" do
      %input{:name => "travel", :type => "radio", :value => "expectation2"}/
    %br/
    Willing to be assigned to a shifting schedule?
    %span.red *
    = succeed "Yes" do
      %input{:name => "shift", :type => "radio", :value => "expectation1"}/
    = succeed "No" do
      %input{:name => "shift", :type => "radio", :value => "expectation2"}/
    %br/
    Willing to be relocated?
    %span.red *
    = succeed "Yes" do
      %input{:name => "relocated", :type => "radio", :value => "expectation1"}/
    = succeed "No" do
      %input{:name => "relocated", :type => "radio", :value => "expectation2"}/
    %br/
    Willing to render overtime?
    %span.red *
    = succeed "Yes" do
      %input{:name => "overtime", :type => "radio", :value => "expectation1"}/
    = succeed "No" do
      %input{:name => "overtime", :type => "radio", :value => "expectation2"}/
    %br/
    Do you possess a personal transport?
    %span.red *
    = succeed "Yes" do
      %input{:name => "ptransport", :type => "radio", :value => "expectation1"}/
    = succeed "No" do
      %input{:name => "ptransport", :type => "radio", :value => "expectation2"}/
    %br/
    What is your expected monthly salary?
    %input{:maxlength => "30", :name => "lname", :size => "5", :type => "text"}/
    in Philippine Peso
    (Php.)
    %br/
    Negotiable
    = succeed "Yes" do
      %input{:name => "negotiable", :type => "radio", :value => "expectation1"}/
    = succeed "No" do
      %input{:name => "negotiable", :type => "radio", :value => "expectation2"}/
    %br/
  / 
  / 
  %fieldset.row13
    %legend
      Additional Information
    %p
      = f.fields_for :answers do |answer|
        %div
          = answer.object.question.question


          = answer.hidden_field :id, value: answer.object.id
          = answer.hidden_field :question_id, value: answer.object.question.id

          %br
          = answer.check_box :answer
          %span
            Check if Yes
      -#- @questions.each_with_index do |q, i|
        -#%div
          -#= "#{i + 1})"
          -#= q.question

          -#%br
          -#= check_box_tag 'accept'
          -#%span
            -#Check if Yes
      -#2)Do you have any existing or previous (unpaid) financial obligation arising from an employer - employee relation,
      -#%br/
      -#credit card transaction, load obligation, contractual obligation, and/or other transaction of a similar nature?
      -#%br/
      -#If yes, please enumerate.
      -#%br/
      -#= succeed "Yes" do
        -#%input{:name => "unpaid", :type => "radio", :value => "expectation1"}/
      -#= succeed "No" do
        -#%input{:name => "unpaid", :type => "radio", :value => "expectation2"}/
      -#%br/
      -#3)Are you aware of any physical/mental condition that may hamper your work responsibilities?
      -#%br/
      -#please list them downif any.
      -#%br/
      -#= succeed "Yes" do
        -#%input{:name => "condition", :type => "radio", :value => "expectation1"}/
      -#= succeed "No" do
        -#%input{:name => "condition", :type => "radio", :value => "expectation2"}/
      -#%br/
      -#4) Have you ever been treated for alcoholism or drug addiction? Have you used illegal drugs or abused alcohol in the
      -#%br>/
      -#past?
      -#%br/
      -#If yes please explain.
      -#%br/
      -#= succeed "Yes" do
        -#%input{:name => "alcohol", :type => "radio", :value => "expectation1"}/
      -#= succeed "No" do
        -#%input{:name => "alcohol", :type => "radio", :value => "expectation2"}/
      -#%br/
  / 
  / 
  / 
  %fieldset.row8
    %legend
      Terms and Conditions
    .infobox
      %p
        I hereby affirm that the statements made by me on this application are true and correct and that I have not withheld nor misrepresented any
        %br>/
        fact or circumstance which would, if disclosed, affect my application for employment. I hereby allow Global Business Power Corporation to
        %br>/
        verify the information contained herein. I understand that any misrepresentation or omission of any material fact discovered during the course
        %br>/
        of my employment will be sufficient ground for my
        %strong
          termination
          %strong .
      %br/
      %p.agreement
        = f.check_box :accept_terms
        -#%input{:type => "checkbox", :value => ""}/
        %label
          *  I accept the
          %a{:href => "#"} Terms and Conditions
      %div
        = f.submit 'Submit Form »', class: 'button'
:javascript
  $(function(){
    $datepicker = $('#applicant_birthdate');
    $datepicker.datepicker({ dateFormat: 'yy-dd-mm'});

    var checkFriendIsSelected = function(target){
      if(target.val() == 'Friend'){
        $('#applicant_job_preference_attributes_firstname').show();
        $('#applicant_job_preference_attributes_lastname').show();
        $('#job_pref_firstname').show();
        $('#job_pref_lastname').show();
      }else{
        $('#applicant_job_preference_attributes_firstname').hide();
        $('#applicant_job_preference_attributes_lastname').hide();
        $('#job_pref_firstname').hide();
        $('#job_pref_lastname').hide();
      }
    }

    var checkIfSpecifyIsChecked = function(target){
      var bool = target.is(':checked');


      if(bool){
        $('#applicant_job_preference_attributes_source_sub').show();
        $('#applicant_job_preference_attributes_source').hide();
        $('#source_label').hide();
      }else{
        $('#applicant_job_preference_attributes_source_sub').hide();
        $('#applicant_job_preference_attributes_source').show();
        $('#source_label').show();
      }
    
    }

    checkIfSpecifyIsChecked($('#specify_other'))

    checkFriendIsSelected($('#applicant_job_preference_attributes_source'));

    $('#applicant_job_preference_attributes_source').change(function(){
      checkFriendIsSelected($(this));
    });

    $('#specify_other').click(function(){
      checkIfSpecifyIsChecked($(this))
    });
  })
